# waffle-rookies-18.5-backend-2

실수로 커밋이 꼬여 repository를 새로 파는 만행을 저질렀습니다.
그냥 초기화 했으면 되는 일인데 최근들어 잠을 못자다 보니 정신이 나갔었나 봅니다.
죄송합니다.


<느낀점>

1. 어려웠습니다.. 대략 45~50시간 정도 걸렸습니다. 

2. drf문서와 구글링을 통해 개념적인 부분들과 내가 뭘, 어떻게 해야 하는구나는 파악할 수 있었습니다. 다만 실제로 view와 serializer을 왔다갔다 하며 코드를 구현하는 데 많은 어려움을 겪었습니다.
3. 다른 분들도 그랬을지는 모르겠는데, 전 특히 인자를 통해 정보를 주고받는 과정이 헷갈렸습니다. 가령 view에서 user을 직접 전해줘야 하는지, 아니면 serializer에서 직접 self. 하여 가져오는게 나은것인지,
분명 모델과 관련된 self인데 왜 self.~~에서 오류가 나는 것인지.. 절망적이었던 부분들이 있었습니다.
4. 이제 어느정도 view와 serializer을 왔다갔다 하는 개념이 생긴 것 같긴 한데.. 막상 스스로 말로 설명해보려니 어렵네요. 이 부분은 꾸준한 공부밖엔 답이 없는 것 같습니다.

5. 해당 과제를 하며 가장 크게 느꼈던 부분은 바로 서버는 절대 "일단 시작"하면 안된다는 것이었습니다.
6. 만약 제가 과제 시작 전에 아주 디테일한 설계도를 먼저 그렸다면, 시간이 이렇게 많이 소요되지는 않았을 것 같습니다.
7. 가령 다대다 / 일대일 관계부터 시작해 어떤 serializer가 필요하고, 해당 serializer의 특정 필드는 어떤 serializer을 통해 값을 리턴해야 하는지 등에 관한 내용을, 아예 몇 시간씩 꼼꼼히 설계하고 코드 구현에 들어갔더라면
지금보다 못해도 10시간은 단축할 수 있지 않았을까 라는 생각이 듭니다.

8. 아울러 아직까지 view와 serializer간 인자를 주고받는 메커니즘이나 self의 활용법을 완전히 숙지하지는 못한 것 같습니다. 이 부분은 계속 공부하도록 하겠습니다.
9. 과제 전에는 잘 몰랐는데, serializer에서 작업하는 것이 훨씬 체계적이고, oop스러운 것 같습니다. 이를 다 view에서 해결해야 한다면 코드가 (저는 지금도 그렇지만) 매우 더러웠을 것 같습니다.

10. 일부 업데이트 과정에서 계속 쿼리를 불러왔던 것을, 마지막에 save() 한번으로 바꾸는 것으로 변경했습니다. 디버그 툴바를 보며 어떻게 하면 쿼리를 줄일 수 있을 까 고민했는데 (제 경험과 식견이 짧아..) 특정 수행 시 쿼리를 날리지 않고 할 만한 방법을 딱히 떠올리지 못했습니다.

10. 마지막 확인까지 거쳤고, 지금까지 테스트해본 바로는 다 api대로 돌아가는 것 같은데, 놓친 부분이 혹시나 있을 수 있습니다. 이 점 양해 부탁드립니다.(정말 열심히 했어요..ㅠㅠ)

11. 문제를 내는 것이 푸는 것 만큼이나, 아니 그 이상으로 어렵다는 것을 잘 알고 있습니다. 항상 좋은 문제 고민해주셔서 감사합니다. 화이팅!


아래는 스스로 공부한 내용 정리한 것입니다. 읽으실 필요 없습니다!

<공부한 내용>

1. DRF가 정확히 무엇인지, 왜 써야 하는지에 대한 이유를 어느정도 알게 되었다.
2. seminar라는 새로운 앱을 처음부터 구현해봄으로써 url - view - model - serializer 등이 어떻게 작동하는지 직접 확인할 수 있었다.
3. is_valid() 를 통한 validation 방법을 이해, 구현하였다.
4. 추가적인 정보에 대한 validation 방법을 고민하였고, serializer 내 새로운 함수를 정의해 validation을 검사하였다.
5. raise serializer.ValidationError을 통해 serializer에서 오류를 리턴하는 방법을 이해, 구현하였다.
6. 다대다 관계와 일대일 관계를 각각 맵핑테이블과 unique=true를 사용해 구현하였다.
7. ManytoMany field 와 OnetoOne field 를 선호되지 않는 이유를 파악하였다.
8. model - serializer - serializer ... 로 이어지는 상황을 구현해봄으로써 model의 필드와 Serializer 필드의 역할을 깨닫고, 객체와 직렬화의 역할을 명확히 구분해서 이해하였다.
9. 쿼리가 결국 cost임을 파악하고, 이를 줄이려고 고민해보았다.

